---
title: Case of Data Index
author: "Misty"
tags: ["Article","Job"]
categories: ["Project"]
date: 2021-01-05
---

# 数据指标体系搭建

## 前言

2019年-2020年，我在服装制造业公司担任数据分析项目专员，为公司生产项目提供统计分析、数据挖掘与建模、数据可视化、数据库优化的技术支持。作为一个本科有互联网背景的新人，经常被公司的前辈问到两个问题，是否会觉得实体产业的数据分析太过于枯燥（互联网的数据分析和实体产业的数据分析有什么区别），如何将互联网的数据分析思想应用到实体产业的数据分析中（数据化时代的制造业转型）。

关于第一个问题，不可否认实体产业的数据分析是枯燥的，但是对提升数据敏感度、数据处理能力和建模水平是很有帮助的。不像用户画像分析、市场分析这样可以输出有趣的规则与结果，实体产业的数据分析的结果只是一堆数字（结果），永远在调参和在调参的路上，时不时还会被生产的同事怼这个结果不符合生产经验。我在参加公司的第一个月几乎每天都要去车间研究衬衫的制作过程。但是正是因为不断对这种“不显著”、“不知含义”的数据的探究，磨练了我的数据处理能力和建模水平，对于梭织，我处理了十万条生产数据、将参与分析的近百个因子缩减到30个，对于针织，我的建模准确率已经达到可投入使用、嵌入报价系统的标准。

关于第二个问题，也就是互联网的数据分析思想如何应用到实体产业中。这个问题太大了，我作为一个萌新，要回答这个问题多少有些不知深浅。在这篇文章里想要分享的就是数据指标体系搭建，我认为这是一个非常综合的体现数据分析能力和思想的工作。数据指标体系搭建是建立数字产品、提供数字服务的前提条件之一，最终的目的是实现互联网行业（或者说是制造业）的企业数字生态化。

本篇文章是对数据指标体系搭建的学习笔记和案例应用（以互联网行业为主，增加一些制造业数据分析的心得），最后注明学习资料来源。




## 数据指标体系的概念

### 定义

指标体系是将零散单点的具有相互联系的指标，系统化的组织起来，通过单点看全局，通过全局解决单点的问题。它主要由指标和体系两部分组成。

指标是指将业务单元细分后量化的度量值，它使得业务目标可描述、可度量、可拆解，它是业务和数据的结合，是统计的基础，也是量化效果的重要依据。

* 结果型指标：用于衡量用户发生某个动作后所产生的结果，通常是延后知道的，很难进行干预。结果型指标更多的是监控数据异常，或者是监控某个场景下用户需求是否被满足。

* 过程型指标：用户在做某个动作时候所产生的指标，可以通过某些运营策略来影响这个过程指标，从而影响最终的结果，过程型指标更加关注用户的需求为什么被满足或没被满足。

### 指标体系生命周期

生命周期主要包含定义、生产、消费、下线四个阶段。针对整个生命周期要持续做指标运维、质量保障，同时为了提高指标数据复用度，降低用户使用成本需要做对应的数据运营工作。

### 应用场景

指标体系主要是结合用户的业务场景来进行使用，多个不同的指标和维度可以组合起来进行业务的综合分析，用户可通过指标的变化看到整体业务的变化，并能够快速发现问题、定位问题。常用的场景一种是决策分析的场景，通过数据看清业务现状进行战略决策支持，另一种是运营分析场景，无论是做用户运营、产品运营还是活动运营都需要各类指标数据的支撑去看清问题、分析问题和指导解决问题。






## 为什么要搭建数据指标体系？

### 横向意义

* 衡量业务发展质量：指标体系可以反映业务客观事实，看清业务发展现状，通过指标对业务质量进行衡量，把控业务发展情况，针对发现的业务问题聚焦解决，促进业务有序增长。
* 建立指标因果关系：主要明确结果型指标和过程型指标关系，通过结果指标回溯过程指标，找到解决问题的核心原因。
* 指导用户分析工作：目的建立产品评估体系、活动效果评估体系、智能运营分析体系。
* 指导基础数据建设：明确基础数据建设方向，集中资源，避免过程和结果分析指标数据的遗漏或缺失。
* 指导内容产品建设：结合用户的业务场景来进行使用，多个不同的指标和维度可以组合起来进行业务的综合分析，用户可通过指标的变化看到整体业务的变化，并能够快速发现问题、定位问题。
* 统一指标消费口径：企业内统一关键指标业务口径及计算口径，统一企业业务目标，实现自上而下目标驱动。

### 纵向意义

* 业务规整
* 数据管理、数据仓库
* 数字产品、数字服务
* [企业数字生态化](https://www.m1sty.com/2020/business_essay_data-application-in-enterprise/)、数字驱动

## 数据指标体系搭建流程
![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210329154251.png)




## STEP1：数据指标选取

### 快速了解行业/企业/业务

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210329142905.png)


### 拆解业务模块

* 内容：
    * **了解产品形态**：指的是熟悉整个产品的运作逻辑，关注的是用户角色，信息和渠道，以及他们之间的流转关系是什么样的，也就是产品的框架；
    * **了解业务逻辑**：指的是要执行某个业务，用户角色需要走过的路径，会有什么角色参与，有什么功能模块（或子系统），模块之间的关联性，数据之间的流向是什么样的；
    * **绘制业务流程图**：在了解了业务逻辑的基础上，把功能分解下来，划分具体的细节流程，异常流程或提示等【业务流程图、数据流程图、visio的使用】。
* 方法：
    * **用户行为法**：数据分析的最终落脚点都会落到用户的行为分析上，只有更好地了解用户习惯、用户偏好、用户画像才能更好地创新或改进或迭代产品。用户行为法是将自己带入到产品与业务中去，实际的走一遍产品流程与业务流程，了解我们在这个过程中所收获的一些信息。
    * **业务拆分法**：业务拆分法针对的对象是一些大型的生态型企业，他们的业务多种多样，每个业务板块的产品布局也是不相同的。把业务拆分成不同的子模块，既可以通过优势互补来达到共享资源，也可以将每个子业务经过重新定位来强化营收，同时业务之间增加其竞争力，在强化业务中寻求大创新与大突破。
    * **指标推进法**：指标推进法其实就是将企业的总指标进行层层划分，可以按照流程或者公式来进行拆解，根据分解的指标所涉及的工作内容，来了解整体业务的详细流程。
    * **商业画布**：[商业画布](https://www.m1sty.com/2021/ed_1_intro/)是一种分析企业价值的工具，通过把商业模式中的元素标准化，引导我们的思维，将业务知识素材归档。

#### 例子
* 电商类产品
    * 商品类指标
    * 营销类指标
    * 风控类指标
    * 市场竞争类指标
    * 电商总体运营类指标
    * 流量类指标
    * 销售转化类指标
    * 客户价值指标
* o2o类产品
    * 流量类指标
    * 订单相关指标
    * 登陆注册指标
    * 生命周期相关指标
    * 行为转化指标
    * 用户属性指标


### 梳理业务与指标

#### 鱼骨图/逻辑树/MECE原则
对业务流程图、数据流程图进行进一步分析，把复杂的业务问题拆解成多个简单问题，进而拆分更细的数据指标，有利于把握核心指标，提升指标系统的有效性。

#### 指标分级方法
指标分级主要是指标内容纵向的思考，根据企业战略目标、组织及业务过程进行自上而下的指标分级，对指标进行层层剖析，主要分为三级T1、T2、T3。
* T1指标：公司战略层面指标。用于衡量公司整体目标达成情况的指标，主要是决策类指标，T1指标使用通常服务于公司战略决策层。
* T2指标：业务策略层面指标。为达成T1指标的目标，公司会对目标拆解到业务线或事业群，并有针对性做出一系列运营策略，T2指标通常反映的是策略结果属于支持性指标同时也是业务线或事业群的核心指标。T2指标是T1指标的纵向的路径拆解，便于T1指标的问题定位，T2指标使用通常服务业务线或事业群
* T3指标：业务执行层面指标。T3指标是对T2指标的拆解，用于定位T2指标的问题。T3指标通常也是业务过程中最多的指标。根据各职能部门目标的不同，其关注的指标也各有差异。T3指标的使用通常可以指导一线运营或分析人员开展工作，内容偏过程性指标，可以快速引导一线人员做出相应的动作。

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210330120817.png)

#### OSM模型（Obejective，Strategy，Measurement）
OSM模型是指标体系建设过程中辅助确定核心的重要方法，包含业务目标、业务策略、业务度量，是指标内容横向的思考。
* O：用户使用产品的目标是什么？产品满足了用户的什么需求？主要从用户视角和业务视角确定目标，原则是切实可行、易理解、可干预、正向有益
* S：为了达成上述目标我采取的策略是什么？
* M：这些策略随之带来的数据指标变化有哪些？

#### 选择分析维度
前面指标体系定义里讲过维度是指标体系的核心，没有维度，单纯说指标是没有任何意义的。所以维度选择层面主要通过数据分析视角结合实际分析业务场景来确定。例如城市维度、商圈维度、渠道维度、时间维度、用户标签维度等。

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210330113029.png)

#### 制造业数据处理心得
制造业的数据来源复杂，涉及到多个工序的多个数据库，有些数据是工人手工录入，不符合规范，需要花费大把的时间在使用sql和python进行[数据预处理](https://www.m1sty.com/2021/dm_0_clear/)（尽管互联网行业的数据分析也需要很多的时间进行数据预处理，但是相较于制造业，还是更有调理）。涉及到的因子需要进行拆分和加工。在梳理的过程中编写数据采集规则，并规范数据库数据存储，便于以后快速取数。（类似于“埋点”）



## STEP2：寻找核心业务指标

### 明确核心指标的标准

核心指标对于一个企业的发展有着重要的作用。一个核心指标能够反映这个产品的用户体验、产品核心价值、用户活跃程度与公司发展状态，可以实时指导企业的业务，因此需要全体团队人员一起去探讨这样的指标，这里我们参考曲卉老师的北极星指标的定义，也就是定义核心指标需要遵循以下6个标准：
* 反应用户体验和产品核心价值
* 反应用户的活跃度程度
* 能够说明公司发展好坏
* 能够容易被团队理解和交流
* 具有先导性
* 具备可操作性

### 参考产品生命周期

产品每个周期的特点不同，自然目标不同，所以产品每一个部分的核心指标也不相同。
* 引入期：刚开始研发，探索市场的一个状态，用户增长缓慢；
* 成长期：因为用户基数的原因，用户数会快速得到增长，市场方向明确；
* 成熟期：产品基本成型，用户较为稳定，谋求产品盈利；
* 衰退期：新产品代替旧产品，用户转向其他产品，用户量大幅度下滑。

这里拓展一下[Blue Ocean Strategy](https://www.m1sty.com/2021/ed_5_midterm-review/),如何将产品从红海变成海蓝/波特五力模型/ERRC思考方法


### 数据处理与分析
* 相关性分析
* [聚类分析](https://www.m1sty.com/tags/clusterings/)
* [关联规则](https://www.m1sty.com/tags/association/)
* [PageRank](https://www.m1sty.com/tags/pagerank/)
* ...

### 数据可视化

* [Tableau](https://www.m1sty.com/2021/visualization_tableau_map/)


#### 总结与反思

* 数据来源可能涉及多个行业、部门、业务，需要和相关部门的同时进行核对，验证业务逻辑的正确性（在制造业中体现为是否符合生产规范、生产经验）。
* 指标体系是管理水平的体现，对于核心指标的选择，可以运用「二八法则」。因为80%的业绩，通常是由 20%的关键因素决定的。所以，要抓好这20%的关键因素，对其进行分析拆解、指标设定、考核评价、激励控制，这样才能抓住主要矛盾。
* 可以把指标按重要程度及分类，将其分为一级、二级、三级指标，将我们搭建指标体系的过程进行分段拆解，确保搭建指标的条理性，保证每个阶段都有相应的产出。
* 注意数据的产出时效，明确每个指标是实时数据/小时级数据/次日数据，在可行的情况下满足业务需求。
* 尽量确保各指标应该和直接相关部门的考核挂钩。



## STEP3：搭建指标体系

### AARRR海盗模型

在[《精益数据分析》](http://localhost:1313/2020/business_book_jingyishujufenxi/)中提到，具体可以跳转链接。

可以结合使用OSM和AARRR模型：

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210329163925.png)


### RATER指数模型

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210329164550.png)

### Google’s HEART

Google’s HEART是一个用来评估以及提升用户体验的模型，它由五个维度组成：Engagement（参与度）、Adoption（接受度）、Retention（留存度）、Task Success（任务完成度）和Happiness（愉悦度）。



### 场景化搭建指标体系

目前阶段互联网业务比较流行的一种通用抽象场景“人、货、场”，实际就是我们日常所说的用户、产品、场景，在通俗点讲就是谁在什么场景下使用了什么产品，不同的商业模式会有不同的组合模式。

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210330113955.png)

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210330114017.png)

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210330114031.png)

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210330114055.png)



## STEP4：管理数据指标体系

### 痛点分析

* 业务视角
    * 业务分析场景指标、维度不明确；
    * 频繁的需求变更和反复迭代，数据报表臃肿，数据参差不齐；
    * 用户分析具体业务问题找数据、核对确认数据成本较高。

* 技术视角
    * 指标定义，指标命名混乱，指标不唯一，指标维护口径不一致；
    * 指标生产，重复建设；数据汇算成本较高；
    * 指标消费，数据出口不统一，重复输出，输出口径不一致；

* 产品视角
    * 缺乏系统产品化支持从生产到消费数据流没有系统产品层面打通；

### 管理目标

* 技术目标：统一指标和维度管理，指标命名、计算口径、统计来源唯一，维度定义规范、维度值一致；

* 业务目标：统一数据出口、场景化覆盖；

* 产品目标：指标体系管理工具产品化落地；指标体系内容产品化落地支持决策、分析、运营例如决策北极星、智能运营分析产品等。


### 模型架构

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210330115827.png)

#### 业务线
* 业务板块定义原则：业务逻辑层面进行抽象、物理组织架构层面进行细分，可根据实际业务情况进行层级分拆细化，层级分级建议进行最多进行三级分拆，一级细分可公司层面统一规范确定，二级及后续拆分可根据业务线实际业务进行拆分。例如滴滴出行领域业务逻辑层面两轮车和四轮车都属于出行领域可抽象出行业务板块(level一级)，根据物理组织架构层面在进行细分普惠、网约车、出租车、顺风车（level二级），后续根据实际业务需求可在细分,网约车可细分独乘、合乘，普惠可细分单车、企业级。

#### 规范定义
* 数据域：指面向业务分析，将业务过程或者维度进行抽象的集合。其中，业务过程可以概括为一个个不拆分的行为事件，在业务过程之下，可以定义指标；维度，是度量的环境，如乘客呼单事件，呼单类型是维度。为了保障整个体系的生命力，数据域是需要抽象提炼，并且长期维护更新的，变动需执行变更流程。

* 业务过程：指公司的业务活动事件，如，呼单、支付都是业务过程。其中，业务过程不可拆分。

* 时间周期：用来明确统计的时间范围或者时间点，如最近30天、自然周、截止当日等。

* 修饰类型：是对修饰词的一种抽象划分。修饰类型从属于某个业务域，如日志域的访问终端类型涵盖APP端、PC端等修饰词。

* 修饰词：指的是统计维度以外指标的业务场景限定抽象，修饰词属于一种修饰类型，如在日志域的访问终端类型下，有修饰词APP、PC端等。

* 度量/原子指标：原子指标和度量含义相同，基于某一业务事件行为下的度量，是业务定义中不可再拆分的指标，具有明确业务含义的名称，如支付金额。

* 维度：维度是度量的环境，用来反映业务的一类属性，这类属性的集合构成一个维度，也可以称为实体对象。维度属于一个数据域，如地理维度（其中包括国家、地区、省市等）、时间维度（其中包括年、季、月、周、日等级别内容）。

* 维度属性：维度属性隶属于一个维度，如地理维度里面的国家名称、国家ID、省份名称等都属于维度属性。

* 指标分类：主要分为原子指标、派生指标、衍生指标
    * 原子指标：基于某一业务事件行为下的度量，是业务定义中不可再拆分的指标，具有明确业务含义的名称，如呼单量、交易金额
    * 派生指标：是1个原子指标+多个修饰词（可选）+时间周期，是原子指标业务统计范围的圈定。派生指标又分以下二种类型：
        * 事务型指标：是指对业务过程进行衡量的指标。例如，呼单量、订单支付金额，这类指标需要维护原子指标以及修饰词，在此基础上创建派生指标。
        * 存量型指标：是指对实体对象（如司机、乘客）某些状态的统计，例如注册司机总数、注册乘客总数，这类指标需要维护原子指标以及修饰词，在此基础上创建派生指标，对应的时间周期一般为“历史截止当前某个时间”。
    * 衍生指标：是在事务性指标和存量型指标的基础上复合成的。主要有比率型、比例型、统计型均值 

#### 模型设计

* 主要采用维度建模方法进行构建，基础业务明细事实表主要存储维度属性集合和度量/原子指标；
* 分析业务汇总事实表按照指标类别(去重指标、非去重指标)分类存储，非去重指标汇总事实表存储统计维度集合、原子指标或派生指标，去重指标汇总事实表只存储分析实体统计标签集合。

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210330134537.png)

### 指标体系元数据管理


#### 维度管理

* 基础信息：基础信息对应维度的业务信息，由业务管理人员、数据产品或BI分析师维护，主要包括维度名称、业务定义、业务分类。
* 技术信息：技术信息对应维度的数据信息，由数据研发维护，主要包括是否有维表（是枚举维度还是有独立的物理维表）、是否是日期维、对应code英文名称和中文名称、对应name英文名称和中文名称。如果维度有维度物理表，则需要和对应的维度物理表绑定，设置code和name对应的字段。如果维度是枚举维，则需要填写对应的code和name。维度的统一管理，有利于以后数据表的标准化，也便于用户的查询使用。


#### 指标管理

* 基础信息：基础信息对应指标的业务信息，由业务管理人员、数据产品或BI分析师维护，主要包括归属信息(业务板块、数据域、业务过程)，基本信息(指标名称、指标英文名称、指标定义、统计算法说明、指标类型(去重、非去重))，业务场景信息(分析维度，场景描述)；
* 技术信息：技术信息对应指标的物理模型信息，由数据研发进行维护，主要包括对应物理表及字段信息；
* 衍生信息：衍生信息对应关联派生或衍生指标信息、关联数据应用和业务场景信息，便于用户查询指标被哪些其它指标和数据应用使用，提供指标血缘分析追查数据来源的能力。

#### 整理底层数据存储逻辑

整理底层数据的存储逻辑，明确每个字段要从哪里获取，每张表应该涵盖哪些指标哪些字段维度。这个过程可能会出现很多问题，例如1、想做的的指标没有埋点所以无法获取，2、有埋点但是数据未传 3、数据缺失、错误严重。我们需要整理出这些存在的问题并将问题归类，找到相应数据仓库、埋点研发负责的部门寻求配合，沟通存在的问题并商定问题的解决方案，明确协作的过程及责任划分，确认排期。



### 指标体系建设流程

#### 建模流程

* 建模流程主要是从业务视角指导工程师对需求场景涉及的指标进行主题抽象，归类，统一业务术语，减少沟通成本，同时避免后续的指标重复建设。
* 分析数据体系是模型架构中汇总事实表的物理集合，业务逻辑层面根据业务分析对象或场景进行指标体系抽象沉淀。滴滴出行主要是根据分析对象进行主题抽象的，例如司机主题、安全主题、体验主题、城市主题等。指标分类主要是根据实际业务过程进行抽象分类，例如司机交易类指标、司机注册类指标、司机增长类指标等。
* 基础数据体系是模型架构中明细事实表和基础维度表的物理集合，业务逻辑层面根据实际业务场景进行抽象例如司机合规、乘客注册等，还原业务核心业务过程。

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210330135248.png)

#### 开发流程

* 开发流程是从技术视角指导工程师进行指标体系生产、运维及质量管控，也是数据产品或数据分析师和数仓研发沟通协调的桥梁。

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210330135542.png)

### 指标体系图谱模型
![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210330135624.png)

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210330135724.png)

## STEP5：指标体系产品化

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210330135814.png)

* 指标体系涉及的产品集主要是依据其生命周期进行相应建设，通过产品工具打通数据流，实现指标体系统一化、自动化、规范化、流程化管理。因为指标体系建设本质目标是服务业务，实现数据驱动业务价值，所以建设的核心原则是“轻标准、重场景，从管控式到服务式”。通过工具、产品、技术和组织的融合提高用户使用数据效率，加速业务创新迭代。
* 其中和指标体系方法论强相关产品就是指标字典工具的落地，其产品的定位及价值：
    * 支撑指标管理规范从方法到落地的工具，自动生成规范指标，解决指标名称混乱、指标不唯一的问题，消除数据的二义性
    * 统一对外提供标准的指标口径和元数据信息

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210330140042.png)


## 补充

### 埋点

* 埋点是数据采集的基础。一般在设计好数据指标后，我们会有一个“数据埋点”的工程，通常是由产品经理输出《埋点需求文档》，然后交予开发进行埋点部署。
* 埋点是互联网领域最重要的数据采集手段之一。通俗讲就是在web或app植入埋点代码，用以监控用户行为事件。通过埋点，我们可以：
    * 获得用户行为轨迹
    * 追踪任一时间段数据的变化
    * 验证可行性
    * 找出产品设计漏洞等

### 指标分类

* 分类方法一：综合性指标、流程性指标、业务性指标
* 分类方法二：原子指标、派生指标、衍生指标（计算指标）

### 指标字典要素

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/20210330142339.png)



## 相关案例

![](https://raw.githubusercontent.com/M1styDay/image_hosting/master/hugo_images/%E5%9B%BE%E7%89%87%201.png)


## Reference

[滴滴数据指标体系建设实践](https://mp.weixin.qq.com/s/oAxVjHIELxhY1W6D6zhMxw)

[如何建立业务数据分析指标体系？](https://mp.weixin.qq.com/s/rNL5TY6vLAZBtkxvUIhQqw)

[互联网行业常用数据指标体系](https://mp.weixin.qq.com/s/rjNnwWNTv-mVXvTaRoCpNA)

[数据指标体系0-1搭建流程](https://mp.weixin.qq.com/s?__biz=Mzg3NjIyNjQwMg==&mid=2247485208&idx=2&sn=7bd3a99a51353ffd688bfbced876c467&chksm=cf343515f843bc03b04a6f071304494c2e0f90aa65eda51cb2ffe50f049d4f4831677c5c2f95&scene=21#wechat_redirect)
